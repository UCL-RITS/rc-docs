




<!DOCTYPE html>
<!--[if IE 7]> <html lang="en" class="lt-ie9 lt-ie8 no-js"> <![endif]-->
<!--[if IE 8]> <html lang="en" class="lt-ie9 no-js"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset=utf-8 />
    <meta name="author" content="UCL" />
    <meta name="description" content="UCL Homepage" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- social meta -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uclnews">
    <meta name="twitter:title" content="UCL - London's Global University">
    <meta name="twitter:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students.">
    <meta name="twitter:creator" content="@UCLWAMS">
    <meta name="twitter:image:src" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png">
    <meta property="og:image" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png" />
    <meta property="og:title" content="UCL - London's Global University" />
    <meta property="og:url" content="http://www.ucl.ac.uk" />
    <meta property="og:site_name" content="UCL" />
    <meta property="og:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students." />
    <meta property="og:type" content="website" />
    <meta property="og:profile_id" content="uclofficial" />
    <!-- end social meta -->

  <title>Installing Ghc On Scientific Linux 5</title>

  <link href="/rc-docs/css/screen.min.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/rc-docs/css/jekyll-styles.css" rel="stylesheet" type="text/css">
  <link href="/rc-docs/site-styles/local_styles.css" rel="stylesheet" type="text/css">
  <link href="/rc-docs/site-styles/ipython.css" rel="stylesheet" type="text/css">

  <link rel="shortcut icon" href="/rc-docs/images/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="/rc-docs/favicon-152.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/rc-docs/favicon-144.png">

  <script src="/rc-docs/js/lib/modernizr-custom.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>

    <script>
      var cuttingTheMustard = document.querySelector && window.localStorage && window.addEventListener;

      Modernizr.load({
        //cutting the mustard as used by the BBC
        test: cuttingTheMustard
        //if old browser load the shiv
        ,
        nope: [
          '/rc-docs/js/lib/html5shiv-printshiv.min.js', '/rc-docs/js/lib/respond.min.js'
        ]
      });
      //set conditional assets for main.js
      var globalSiteSpecificVars = {
        pathToJquery: "/rc-docs/js/lib/jquery-1.9.1.min",
        googleAnalyticsIdsArray: [] //specify array of site specific id's NOT UCL generic UA-943297-1
      }
      if (cuttingTheMustard) {
        globalSiteSpecificVars.pathToJquery = '/rc-docs/js/lib/jquery-2.1.1.min';
      }
    </script>
    <script src="/rc-docs/js/lib/require.min.js"></script>
    <script src="/rc-docs/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rc-docs/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>
</head>

<body id="index" class="layout-vertical layout-vertical--nav-1col">

  <header class="header header--desktop">

  <a class="header__close" href="#">
    <img src="/rc-docs/images/close.png" class="lazy" data-src="//static.ucl.ac.uk/indigo/images/close.png" alt="X" />Close</a>

  <div class="masthead">

  <div class="wrapper clearfix">

      <div class="masthead__search">
					<form action="#" method="get">
						<div class="search-form">
							<input type="search" placeholder="Search UCL websites, people and more" class="search-form__input search-form__input--search" value="">
						</div>
						<input type="submit" name="sumbit" value="Go" class="btn search-form__input search-form__input--submit" />
					</form>
				</div>


				<nav class="masthead__nav m-clear">
					<ul class="masthead__list">
						<li class="masthead__item"><a href="index.php" class="masthead__link">UCL Home</a>
						</li>
						<li class="masthead__item"><a href="prospective-students.php" class="masthead__link">Prospective students</a>
						</li>
						<li class="masthead__item"><a href="current-students.php" class="masthead__link">Current students</a>
						</li>
						<li class="masthead__item"><a href="staff.php" class="masthead__link">Staff</a>
						</li>
					</ul>
				</nav>
			</div>

</div><!-- end .masthead -->


  <div class="wrapper">

    <div class="photograph">
  <div class="brand">
    <p class="brand__heading">Research Computing Docs</p>
    <a href="/" class="brand__link"><span class="visually-hidden">Home</span></a>
    <img src="//cdn.ucl.ac.uk/img/blank.gif" data-src="//static.ucl.ac.uk/indigo/images/ucl-logo.svg" alt="UCL logo" id="logo" class="brand__logo lazy">  
  </div>
</div>


    <div class="sidebar">

      <nav class="nav nav--mobile">
        <ul>
          




        </ul>
      </nav>

      <nav class="nav nav--left">
        <ul>
          



        </ul>
      </nav>

    </div>
    <!-- end .sidebar -->

    <nav class="nav nav--top">
      <ul>
        
      </ul>
    </nav>

  </div>
  <!-- end .wrapper -->

  </header>
  <!-- end .header -->

  <div class="site-content wrapper">

    <header class="header header--mobile default-header">
      <a class="header__open" href="#">
        <img src="/rc-docs/images/ucl-menu.svg" alt="Menu" />
      </a>
    </header>

    <div class="site-content__inner clearfix">
      <div class="site-content__body">

          
            <nav class="breadcrumb clearfix">
              <ul class="breadcrumb__list">
                <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/">UCL</a></li>

  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/ISD">ISD</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services">Our services</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services/research-it">Research IT</a></li>
  
    <li class="breadcrumb__item"><a href="https://www.ucl.ac.uk/isd/services/research-it/research-computing">Research Computing</a></li>
  

<li class="breadcrumb__item"><a href="/rc-docs/"></a></li>



              </ul>
            </nav>
           <div class="site-content__main">
            
            
          
          

    <h1 id="installing-ghc-on-scientific-linux-5x">Installing GHC on Scientific Linux 5.x</h1>
<p>publication-date: Tue, 20 May 2014 11:13:06 +0000
author: uccaoke
One of the packages we had requested a while back was the Glasgow Haskell Compiler, “GHC”.  Unfortunately, we were unable to fulfill this request at the time because:</p>

<ol>
  <li>GHC doesn’t provide current binaries that work on Scientific Linux 5.x</li>
  <li>GHC is self-hosting (written in Haskell) which means you need GHC to build GHC.  It used to support installation from intermediate C files but sadly no more.</li>
</ol>

<p>It is generally recommended that you install GHC with the <a href="http://www.haskell.org/platform/">Haskell Platform</a> because that provides some
libraries and a package management tool called cabal.</p>

<p>Recently I started learning Haskell in my spare time and I decided to pull this package off the list of things that are pretty difficult and take a pass at it  while in a fairly long, boring meeting.</p>

<p>The current source release of the Haskell Platform is 2013.2.0.0, and looking at the documentation for it, it wants you to install GHC 7.6.3.  This then gets us into the aforementioned chicken and egg self-hosting problem.</p>

<p>Undeterred (I was in a really boring meeting) I started poking about on the web to find out what version of GHC <em>does</em> support RHEL 5 derivatives (of which Scientific Linux is one) and discovered that there are GHC binaries available from the developers for version 6.8.3 of GHC.</p>

<p>Unfortunately, version 6.8.3 is not new enough to build version 7.6.3 of GHC.  This means we need to build some intermediary versions.</p>

<p>In the end I had to:</p>

<ol>
  <li>Install binaries of GHC 6.8.3</li>
  <li>Build 6.10.4 from source with GHC 6.8.3</li>
  <li>Build 7.0.3 from source with GHC 6.10.4</li>
  <li>Build 7.6.3 from source with GHC 7.0.3</li>
  <li>Build the Haskell Platform 2013.2.0.0 with GHC 7.6.3</li>
</ol>

<p>And then I wrote some module files and did some tests.</p>

<p>And it seems to work (as much as you can test a package that complicated).</p>

<p>In order to use it on Legion, you need to have:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>compilers/gnu/4.6.3
binutils/2.22/gnu-4.6.3
compilers/ghc/7.6.3
</code></pre>
</div>

<p>modules loaded, and then optionally (if you want to use the Haskell Platform stuff):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>haskellplatform/2013.2.0.0
</code></pre>
</div>

<p>If you want to use Cabal to install packages, you’ll need to create a directory for it to keep its settings on Scratch so you should do:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mkdir ~/Scratch/.cabal
ln -s ~/Scratch/.cabal ~/.cabal
cabal update
</code></pre>
</div>

<p>Before attempting to install packages.</p>




        </div>

      </div>
    </div>

  </div>
  <!-- end .site-content -->

  <footer class="footer wrapper">
  <div class="footer__inner clearfix">
             <article class="block block--col-1">
                <h2 class="as-h5">Facilities</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/departments/faculties">Faculties and departments</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/library/">Library</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/museums">Museums and Collections</a></li>
					<li class="footer__item"><a href="http://www.thebloomsbury.com/">UCL Bloomsbury Theatre</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/maps">Maps and buildings</a></li>
				</ul>
            </article>
            <article class="block block--col-2">
                <h2 class="as-h5">Locations</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/london">UCL and London</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/australia">UCL Australia</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/qatar">UCL Qatar</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/global">UCL Global</a></li>
				</ul>
            </article>
            <article class="block block--col-3">
                <h2 class="as-h5">Connect with us</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/alumni">Alumni</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/enterprise">Businesses</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/media">Media Relations</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/hr/jobs/">Jobs</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/makeyourmark">Give to UCL</a></li>
				</ul>

      </article>
  
    <hr class="clear">
    <ul class="footer__list list-unstyled zero-bottom">
      <li class="footer__item text-muted small">University College London,&nbsp;Gower Street,&nbsp;London,&nbsp;WC1E 6BT&nbsp;Tel:&nbsp;+44&nbsp;(0)&nbsp;20 7679 2000</li>
    </ul>
    <ul class="list-inline footer__list list-unstyled list-inline--divided">
      <li class="text-muted small">Copyright © 2016-10-27 14:21:42 +0000 UCL</li>
      <li class="text-muted small"><a href="#">Disclaimer</a>
      </li>
      <li class="text-muted small"><a href="#">Freedom of Information</a>
      </li>
      <li class="text-muted small"><a href="#">Accessibility</a>
      </li>
      <li class="text-muted small"><a href="#">Privacy</a>
      </li>
      <li class="text-muted small"><a href="#">Cookies</a>
      </li>
      <li class="text-muted small"><a href="#">Contact Us</a>
      </li>
    </ul>
  </div>
</footer>


  <script src="/rc-docs/js/lib/require.min.js"></script>
  <script src="/rc-docs/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rc-docs/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>

</body>

</html>

